{"version":3,"file":"result.min.js","sources":["../src/result.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n/**\n * // Fetch the captured results and present them in a graphical form\n * @module     block_emotionanalysis/result\n * @copyright  2023 Rohit <rx18008@edu.rta.lv>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\n// eslint-disable-next-line no-unused-vars\ndefine(\n    ['jquery', 'core/ajax', 'core/chartjs', 'core/modal_factory', 'core/modal_events', 'core/str'],\n    function($, Ajax, Chart, ModalFactory, ModalEvents, String,) {\n        // eslint-disable-next-line no-unused-vars\n        let response;\n        let fetchRequest;\n        let semotionChart;\n        let sctx = document.getElementById('schart');\n        const courseSelect = document.getElementById('course-select');\n        const userSelect = document.getElementById('user-select');\n        const videoSelect = document.getElementById('video-select');\n        const chartType = document.getElementById('chartType');\n        let dataTable = document.getElementById('additional-information');\n        const emotionContainer = document.getElementById(\"emotion-container\");\n        let courseSelectedValue;\n        // Calling the Activity Checker on Document Ready\n        $(document).ready(function() {\n            resultFetcher();\n        });\n        chartType.addEventListener('change', function() {\n            updateSubmitButton();\n        });\n        videoSelect.addEventListener('change', function() {\n            $(\"#chartType\").val('');\n            updateSubmitButton();\n        });\n        // Reset Button Event\n        $('#reset-button').click(function() {\n            $('#course-select').prop('selectedIndex', 0);\n            removeexistingvalues('user-select');\n            removeexistingvalues('video-select');\n            $('#chartType').prop('selectedIndex', 0);\n            $('#submit-button').prop('disabled', true);\n            $('#delete-button').prop('disabled', true);\n            while (emotionContainer.firstChild) {\n                emotionContainer.removeChild(emotionContainer.firstChild);\n            }\n            dataTable.innerHTML = '';\n            if (semotionChart !== null) {\n                semotionChart.destroy();\n            }\n        });\n        $(\"#delete-button\").click(function() {\n            confirmationModal();\n        });\n        $(\"#submit-button\").click(function() {\n            courseSelectedValue = courseSelect.value;\n            let studentSelectedValue = userSelect.value;\n            let videoSelectedValue = videoSelect.value;\n            let chartSelectedType = chartType.value;\n            if (courseSelect.value !== '' &&\n                userSelect.value == '' &&\n                videoSelect.value == '' &&\n                chartType.value !== '') {\n                let requestData = {\n                    values: {\n                        courseId: courseSelectedValue,\n                    }\n                };\n                let request = {\n                    methodname: 'blocks_emotionanalysis_course_result',\n                    args: requestData,\n                };\n                // eslint-disable-next-line no-unused-vars\n                Ajax.call([request])[0].done(function(data) {\n                    const selectedOption = courseSelect.options[courseSelect.selectedIndex]; // Get the selected option\n                    const selectedText = selectedOption.text; // Get the text of the selected option\n                    let emotionCounts = chartArray(data.videoEmotion);\n                    const emotionCountsArray = emotionCounts.map(item => ({\n                        count: item.countofemotion,\n                        state: item.emotion_state\n                    }));\n                    // eslint-disable-next-line no-unused-vars\n                    const [countOfSecond, totalDetectedEmotions] = updateEmotionCounts(emotionCountsArray);\n                    generategraph(Object.entries(countOfSecond), sctx, chartSelectedType);\n                    // eslint-disable-next-line no-console\n                    let barData = mergeEmotions(data.videoEmotion);\n                    while (dataTable.rows.length > 0) {\n                        dataTable.deleteRow(0);\n                    }\n                    // Create a new row for the dataTable headers\n                    let headerRow = dataTable.insertRow();\n                    // Create a single header cell for the additional information\n                    let headerCell = headerRow.insertCell();\n                    headerCell.classList.add('text-center');\n                    headerCell.colSpan = 3;\n                    headerCell.textContent = 'Additional Information';\n\n                    // Create a new row for Course Name\n                    let courseRow = dataTable.insertRow();\n                    let courseRowlabelCell = courseRow.insertCell();\n                    courseRowlabelCell.textContent = 'Course Name';\n                    let courseRowValue = courseRow.insertCell();\n                    courseRowValue.textContent = selectedText;\n                    if (data.flag)\n                    {\n                        // Create a new row for  Total student\n                        let studentRow = dataTable.insertRow();\n                        // Create cells for Total students name\n                        let studentLabelCell = studentRow.insertCell();\n                        studentLabelCell.textContent = 'Total Enrolled Student';\n\n                        let studentValueCell = studentRow.insertCell();\n                        studentValueCell.textContent = data.enrolledStudentsCount;\n\n                        let activeStudentRow = dataTable.insertRow();\n                        // Create cells for Total students name\n                        let activeStudentLabel = activeStudentRow.insertCell();\n                        activeStudentLabel.textContent = 'Number of Student Active in Course';\n\n                        let activeStudentCell = activeStudentRow.insertCell();\n                        activeStudentCell.textContent = data.totalStudents;\n\n                        let finishedActivityRow = dataTable.insertRow();\n                        // Create cells for Total students name\n                        let finishedActivityLabel = finishedActivityRow.insertCell();\n                        finishedActivityLabel.textContent = 'Number of Students Finished Activity (Even Single) ';\n\n                        let finishedActivityCell = finishedActivityRow.insertCell();\n                        finishedActivityCell.textContent = data.finishActivity;\n                    } else\n                    {\n                        // Create a new row for  Total student\n                        let studentRow = dataTable.insertRow();\n                        // Create cells for Total students name\n                        let studentLabelCell = studentRow.insertCell();\n                        studentLabelCell.textContent = 'Student Name';\n\n                        let studentValueCell = studentRow.insertCell();\n                        studentValueCell.textContent = data.userName;\n                    }\n                    const colors = {\n                        positive: \"blue\",\n                        neutral: \"yellow\",\n                        negative: \"red\",\n                    };\n                    while (emotionContainer.firstChild) {\n                        emotionContainer.removeChild(emotionContainer.firstChild);\n                    }\n                    // Bar Result for Videos\n                    barData.forEach(item => {\n                        const emotionSegment = document.createElement(\"div\");\n                        const emotionTextSegment = document.createElement(\"div\");\n                        emotionSegment.classList.add(\"emotion-bar\");\n                        emotionTextSegment.classList.add(\"emotion-bar-detail\");\n                        const maxCount = item.emotions.positive + item.emotions.neutral + item.emotions.negative;\n                        // Add the title here\n                        const titleSegment = document.createElement(\"div\");\n                        titleSegment.textContent = \"Lecture Title - \"+ item.resourceTitle;\n                        titleSegment.style.marginBottom = '10px'; // Add margin for spacing\n\n                        emotionTextSegment.appendChild(titleSegment);\n                        Object.entries(item.emotions).forEach(([emotion, count]) => {\n                            const segment = document.createElement(\"div\");\n                            segment.style.marginBottom = '20px';\n                            segment.style.backgroundColor = colors[emotion];\n                            segment.style.height = '20px';\n                            segment.style.width = `${(count / maxCount) * 100}%`;\n                            const labelSegment = document.createElement(\"div\");\n                            const percentage = ((count / maxCount) * 100).toFixed(2);\n                            labelSegment.style.marginBottom = '5px';\n                            labelSegment.textContent = `${emotion.charAt(0).toUpperCase() + emotion.slice(1)} ${percentage}%`;\n                            emotionTextSegment.appendChild(labelSegment);\n                            emotionSegment.appendChild(segment);\n                        });\n                        emotionContainer.appendChild(emotionTextSegment);\n                        emotionContainer.appendChild(emotionSegment);\n                    });\n                }).fail(function(data) {\n                    // eslint-disable-next-line no-console\n                    console.log(data);\n                });\n            }\n            if (\n                courseSelect.value !== '' &&\n                userSelect.value !== '' &&\n                videoSelect.value !== '' &&\n                chartType.value !== ''\n            ) {\n                for (let i = 0; i < response.length; i++) {\n                    let obj = response[i];\n                    if (\n                        obj.courseid == courseSelectedValue &&\n                        obj.userid == studentSelectedValue &&\n                        obj.instanceid == videoSelectedValue) {\n                        fetchRequest = obj;\n                        break;\n                    }\n                }\n                // eslint-disable-next-line no-unused-vars\n                let requestData = {\n                    values: {\n                        courseId: courseSelectedValue,\n                        userId: studentSelectedValue,\n                        instanceId: videoSelectedValue,\n                        resourceId: fetchRequest.resourceid,\n                    }\n                };\n                let request = {\n                    methodname: 'block_emotionanalysis_fetch_emotion_data',\n                    args: requestData,\n                };\n                Ajax.call([request])[0].done(function(data) {\n                    // eslint-disable-next-line no-console,no-unused-vars\n                    const emotionCountsArray = data.emotioncounts.map(item => ({\n                        count: item.countofemotion,\n                        state: item.emotion_state\n                    }));\n                    // eslint-disable-next-line no-unused-vars\n                    const [countOfSecond, totalDetectedEmotions] = updateEmotionCounts(emotionCountsArray);\n                    generategraph(Object.entries(countOfSecond), sctx, chartSelectedType);\n                    // eslint-disable-next-line no-unused-vars\n                    let totalDuration = fetchRequest.totalduration;\n                    createDataRectangles(data.formattedData);\n\n                    // Clear the existing dataTable data for new generation\n                    while (dataTable.rows.length > 0) {\n                        dataTable.deleteRow(0);\n                    }\n                    // Create a new row for the dataTable headers\n                    let headerRow = dataTable.insertRow();\n                    // Create a single header cell for the additional information\n                    let headerCell = headerRow.insertCell();\n                    headerCell.classList.add('text-center');\n                    headerCell.colSpan = 3;\n                    headerCell.textContent = 'Additional Information';\n\n                    // Create a new row for student name\n                    let studentRow = dataTable.insertRow();\n\n                    // Create cells for student name\n                    let studentLabelCell = studentRow.insertCell();\n                    studentLabelCell.textContent = 'Student Name';\n\n                    let studentValueCell = studentRow.insertCell();\n                    studentValueCell.textContent = fetchRequest.userFullName;\n\n                    // Create a new row for activity start time\n                    let startTimeRow = dataTable.insertRow();\n\n                    // Create cells for activity start time\n                    let startTimeLabelCell = startTimeRow.insertCell();\n                    startTimeLabelCell.textContent = 'Activity Start Time';\n\n                    let activityStartTime = timeStampConvertor(fetchRequest.activity_start_time);\n                    let startTimeValueCell = startTimeRow.insertCell();\n                    startTimeValueCell.textContent = activityStartTime;\n\n                    // Create a new row for activity finish time\n                    let finishTimeRow = dataTable.insertRow();\n\n                    // Create cells for activity finish time\n                    let finishTimeLabelCell = finishTimeRow.insertCell();\n                    finishTimeLabelCell.textContent = 'Activity Finish Time';\n\n                    let finishTimeValueCell = finishTimeRow.insertCell();\n                    finishTimeValueCell.textContent = fetchRequest.activity_finish_time;\n\n                    let resetActivityRow = dataTable.insertRow();\n                    // Create cells for activity finish time\n                    let resetActivityLabelCell = resetActivityRow.insertCell();\n                    resetActivityLabelCell.textContent = 'Activity Reset Status';\n\n                    let resetActivityValueCell = resetActivityRow.insertCell();\n                    resetActivityValueCell.textContent = fetchRequest.reset_activity;\n\n                    let progressStatusRow = dataTable.insertRow();\n                    let progressValue = ((data.maxTimeStamp * 100) / fetchRequest.totalduration).toFixed(1);\n                    let minutes = Math.floor(data.maxTimeStamp / 60);\n                    let seconds = data.maxTimeStamp % 60;\n                    let timeFormatted = minutes + ':' + seconds.toString().padStart(2, '0');\n                    // Create cell for activity progress\n                    let progressStatusLabelCell = progressStatusRow.insertCell();\n                    progressStatusLabelCell.textContent = \"Progress\";\n                    let progressStatusValueCell = progressStatusRow.insertCell();\n                    progressStatusValueCell.textContent = progressValue + \"%\" + \" (\" + timeFormatted + \" minutes)\";\n\n                    let activityTotalDuration = dataTable.insertRow();\n                    // Creating cells for activity duration\n                    let activityTotalDurationLabelCell = activityTotalDuration.insertCell();\n                    activityTotalDurationLabelCell.textContent = 'Total Duration of Lecture';\n\n                    let totalMinutes = Math.floor(fetchRequest.totalduration / 60);\n                    let activityTotalDurationCellValue = activityTotalDuration.insertCell();\n                    activityTotalDurationCellValue.textContent = totalMinutes + ' Minutes';\n\n                    let totalNumberOfEmotions = dataTable.insertRow();\n                    let totalNumberOfEmotionsLabelCell = totalNumberOfEmotions.insertCell();\n                    totalNumberOfEmotionsLabelCell.textContent = 'Total Detected Number of Emotions';\n\n                    let totalNumberOfEmotionValueCell = totalNumberOfEmotions.insertCell();\n                    totalNumberOfEmotionValueCell.textContent = totalDetectedEmotions;\n                    // Create a new row for the dataTable headers\n                    let sessionRow = dataTable.insertRow();\n                    let sessionInformation;\n                    if (data.sessionData) {\n                        sessionInformation = \"Available\";\n                    }\n                    let sessionCell = sessionRow.insertCell();\n                    sessionCell.classList.add('text-center');\n                    sessionCell.colSpan = 3;\n                    sessionCell.textContent = 'Session Information ' + ' - ' + sessionInformation + ' Click Here';\n\n                    $('#delete-button').prop('disabled', false);\n                    let sessionTable = document.createElement('table');\n                    sessionTable.classList.add('table', 'table-striped', 'table-bordered');\n\n                    // Create the table headers\n                    let sheaderRow = sessionTable.insertRow();\n                    let idHeader = sheaderRow.insertCell();\n                    idHeader.textContent = 'ID';\n                    let startTimeHeader = sheaderRow.insertCell();\n                    startTimeHeader.textContent = 'Session Start Time';\n                    let finishTimeHeader = sheaderRow.insertCell();\n                    finishTimeHeader.textContent = 'Session Finish Time';\n                    let watchDurationHeader = sheaderRow.insertCell();\n                    watchDurationHeader.textContent = 'Watch Duration';\n\n                    data.sessionData.forEach(function (session, index) {\n                        let sessionRow = sessionTable.insertRow();\n                        let idCell = sessionRow.insertCell();\n                        idCell.textContent = index + 1;\n                        let startTimeCell = sessionRow.insertCell();\n                        startTimeCell.textContent = timeStampConvertor(session.session_start_time);\n                        let finishTimeCell = sessionRow.insertCell();\n                        finishTimeCell.textContent = timeStampConvertor(session.session_finish_time);\n                        let watchDurationCell = sessionRow.insertCell();\n                        watchDurationCell.textContent = session.start_watch_time + ' - ' + session.finish_watch_time;\n                    });\n                    $(sessionCell).on('click', () => {\n                        if (sessionTable.parentNode === document.body) {\n                            document.body.removeChild(sessionTable);\n                        } else {\n                            document.body.appendChild(sessionTable);\n                        }\n                    });\n                });\n            }\n        });\n\n        /**\n         * Ajax call for fetching the available data\n         */\n        function resultFetcher() {\n            // eslint-disable-next-line no-unused-vars\n            let UserId = $(\"#UsedIdVal\").val();\n            let request = {\n                methodname: 'block_emotionanalysis_fetch_captured_data',\n                args: {'UserId': UserId}\n            };\n            Ajax.call([request])[0].done(function(data) {\n                response = data.fetchData;\n                const courses = data.fetchData.map(item => ({\n                    courseId: item.courseid,\n                    courseName: item.coursename\n                }));\n                // Remove duplicate values\n                const uniqueCourses = courses.reduce((unique, course) => {\n                    const isCourseExist = unique.find(c => c.courseId === course.courseId && c.courseName === course.courseName);\n                    if (!isCourseExist) {\n                        unique.push(course);\n                    }\n                    return unique;\n                }, []);\n                // Populating the values into Select Element\n                uniqueCourses.forEach(course => {\n                    const option = document.createElement('option');\n                    option.value = course.courseId;\n                    option.textContent = course.courseName;\n                    courseSelect.appendChild(option);\n                });\n                // Attach event listener to the course select element\n                courseSelect.addEventListener('change', function(event) {\n                    handleCourseSelection(event, data);\n                });\n                // Attach event listener to the course select element\n                videoSelect.addEventListener('change', function(event) {\n                    handleVideoSelection(event, data);\n                });\n            }).fail(function(data) {\n                // eslint-disable-next-line no-console\n                console.log(data);\n            });\n        }\n        /**\n         *@param {int} event id of the event for filtering\n         *@param {array} data is response from ajax call\n         */\n        // Function to handle course selection\n        /**\n         * @param {int} event id of the event for filter of data\n         * @param {array} data is response of ajax call\n         */\n        function handleCourseSelection(event, data) {\n            updateSubmitButton();\n            $('#delete-button').prop('disabled', true);\n            $(\"#chartType\").val('');\n            const selectedCourseId = event.target.value;\n            // Filter videos based on the selected course\n            const filteredVideos = data.fetchData.filter(item => item.courseid == selectedCourseId);\n            const videoSelect = document.getElementById('video-select');\n            removeexistingvalues('video-select');\n            // Populate the video select element\n            const videoIds = [...new Set(filteredVideos.map(item => item.instanceid))];\n            videoIds.forEach(videoId => {\n                const video = filteredVideos.find(item => item.instanceid == videoId);\n                const option = document.createElement('option');\n                option.value = videoId;\n                option.textContent = video.lectureTitle;\n                videoSelect.appendChild(option);\n            });\n        }\n\n// Function to handle video selection\n        /**\n         * @param {int} event id of the event for filter of data\n         * @param {array} data is response of ajax call\n         */\n        function handleVideoSelection(event, data) {\n            updateSubmitButton();\n            $('#delete-button').prop('disabled', true);\n            const selectedVideoId = event.target.value;\n            const courseSelectedValue = document.getElementById('course-select').value;\n            // Filter users based on the selected video and course\n            // eslint-disable-next-line max-len\n            const filteredUsers = data.fetchData.filter(item => item.instanceid == selectedVideoId && item.courseid == courseSelectedValue);\n            const userSelect = document.getElementById('user-select');\n            removeexistingvalues('user-select');\n            // Populate the user select element\n            const userIds = [...new Set(filteredUsers.map(item => item.userid))];\n            userIds.forEach(userId => {\n                const user = filteredUsers.find(item => item.userid == userId);\n                const option = document.createElement('option');\n                option.value = userId;\n                option.textContent = user.userFullName;\n                userSelect.appendChild(option);\n            });\n        }\n        /**\n         *@param {string} id of the select element\n         */\n        function removeexistingvalues(id) {\n            // eslint-disable-next-line no-console\n            const selectedElement = document.getElementById(id);\n            if (id !== 'chartType') {\n                if (selectedElement.options.length > 1) {\n                    // Remove existing options\n                    while (selectedElement.options.length > 1) {\n                        selectedElement.options[1].remove();\n                    }\n                }\n            }\n        }\n        // eslint-disable-next-line valid-jsdoc\n        /**\n         *@param {array} countsArray\n         */\n        function updateEmotionCounts(countsArray) {\n            const emotion = {\n                angry: 0,\n                disgusted: 0,\n                fearful: 0,\n                happy: 0,\n                neutral: 0,\n                sad: 0,\n                surprised: 0\n            };\n            let totalDetectedEmotions = 0;\n            for (let i = 0; i < countsArray.length; i++) {\n                const {count, state} = countsArray[i];\n                if (emotion.hasOwnProperty(state)) {\n                    emotion[state] = count;\n                    totalDetectedEmotions += count;\n                }\n            }\n            return [emotion, totalDetectedEmotions];\n        }\n        /**\n         *Function to validate data\n         */\n        function updateSubmitButton() {\n            /*if (courseSelect.value !== '' && userSelect.value !== '' && videoSelect.value !== '' && chartType.value !== '') {\n                $('#submit-button').prop('disabled', false);\n            } else {\n                $('#submit-button').prop('disabled', true);\n            }*/\n        }\n        /**\n         *@param {array} input of emotions to generate chart\n         *@param {string} ctx of graph area\n         *@param {string} chartType of type of graph\n         */\n        function generategraph(input, ctx, chartType) {\n            // eslint-disable-next-line no-eq-null\n            if (ctx.id === 'schart' && semotionChart != null) {\n                semotionChart.destroy();\n                // eslint-disable-next-line no-eq-null\n            }\n            const newChart = new Chart(ctx, {\n                type: chartType,\n                data: {\n                    labels: input.map(i => i[0].charAt(0).toUpperCase() + i[0].slice(1)),\n                    datasets: [{\n                        label: 'Count of Emotions',\n                        data: input.map(i => i[1]),\n                        borderWidth: 1,\n                        backgroundColor: [\n                            'rgba(255, 99, 132)',\n                            'rgba(255, 159, 64)',\n                            'rgba(255, 205, 86)',\n                            'rgba(75, 192, 192)',\n                            'rgba(54, 162, 235)',\n                            'rgba(153, 102, 255)',\n                            'rgba(201, 203, 207)'\n                        ],\n                    }]\n                },\n            });\n            if (ctx.id === 'schart') {\n                semotionChart = newChart;\n            }\n        }\n        /**\n         * Modal to ask for confirmation to delete the data\n         */\n        function confirmationModal() {\n            ModalFactory.create({\n                type: ModalFactory.types.SAVE_CANCEL,\n                title: String.get_string('delete_record_confirmation', 'block_emotionanalysis'),\n                body: String.get_string('delete_cofirmation_body', 'block_emotionanalysis'),\n            }).then(function(modal) {\n                modal.setSaveButtonText(\"Yes\");\n                let root = modal.getRoot();\n                root.on(ModalEvents.save, function() {\n                    let footer = Y.one('.modal-footer');\n                    footer.setContent('Deleting...');\n                    let spinner = M.util.add_spinner(Y, footer);\n                    spinner.show();\n                    deleteRecords();\n                });\n                modal.show();\n            });\n        }\n        /**\n         * Ajax Call for delete records\n         * */\n        function deleteRecords() {\n            let deleteReqeustData = {\n                values: {\n                    courseId:  courseSelect.value,\n                    userId: userSelect.value,\n                    instanceId: videoSelect.value,\n                    resourceId: fetchRequest.resourceid,\n                }\n            };\n            let deleteRequest = {\n                methodname: 'blocks_emotionanalysis_delete_records',\n                args: deleteReqeustData,\n            };\n            // eslint-disable-next-line no-unused-vars\n            Ajax.call([deleteRequest])[0].done(function(data) {\n                window.location.reload();\n                // eslint-disable-next-line no-unused-vars\n            }).fail(function(data) {\n                window.location.reload();\n            });\n        }\n        /**\n         *function to create datapoint\n         * @param {array} formattedData\n         */\n        function createDataRectangles(formattedData) {\n            const dataContainer = document.getElementById('data-container');\n            const infoDisplay = document.getElementById('info-display');\n\n            // eslint-disable-next-line no-unused-vars\n            formattedData.forEach((data, index) => {\n                // eslint-disable-next-line no-unused-vars\n                const emotion = data.label.toLowerCase();\n                const rectangle = document.createElement('div');\n                const emoji = getEmoji(emotion);\n                rectangle.className = 'data-rectangle ' + emotion;\n                rectangle.innerHTML = `${emoji}`;\n\n                // Add a mouseover event listener to display info in the fixed div\n                rectangle.addEventListener('mouseover', () => {\n                    infoDisplay.innerHTML = `Emotion: ${data.label}${getEmoji(emotion)} <br>Timestamp: ${data.value}`;\n                    infoDisplay.style.backgroundColor = \"skyblue\";\n                });\n\n                // Add a mouseout event listener to hide the info when not hovering\n                rectangle.addEventListener('mouseout', () => {\n                    infoDisplay.innerHTML = '';\n                    infoDisplay.style.backgroundColor = \"\";\n                });\n\n                dataContainer.appendChild(rectangle);\n            });\n        }\n        /**\n         *Function To Return Emoji\n         * @param {string} emotion\n         * @return {string} emojiMap\n         */\n        function getEmoji(emotion) {\n            const emojiMap = {\n                'happy': '\\u{1F604}', // 😄\n                'sad': '\\u{1F622}', // 😢\n                'angry': '\\u{1F621}', // 😡\n                'disgusted': '\\u{1F92E}', // 🤮\n                'surprised': '\\u{1F632}', // 😲\n                'fearful': '\\u{1F628}', // 😨\n                'neutral': '\\u{1F610}',\n            };\n\n            // Return the emoji for the specified emotion, or a default emoji if not found\n            return emojiMap[emotion] || '\\u{1F610}'; // Use a neutral emoji as the default\n        }\n\n        // Format the timestamp to minutes:seconds\n        /**\n         *@param {int} timestampInSeconds\n         */\n        // eslint-disable-next-line no-unused-vars\n        function formatTimestamp(timestampInSeconds) {\n            const minutes = Math.floor(timestampInSeconds / 60);\n            const seconds = timestampInSeconds % 60;\n            return `${minutes}:${seconds.toString().padStart(2, '0')}`;\n        }\n        /**\n         * function to seprate result from whole data\n         *@param {array} existingData\n         */\n        function chartArray(existingData) {\n            // Helper object to keep track of merged values\n            const mergedMap = {};\n\n            existingData.forEach(item => {\n                item.emotions.forEach(emotion => {\n                    const emotionState = emotion.emotion_state;\n                    const countOfEmotion = emotion.count;\n\n                    if (!mergedMap[emotionState]) {\n                        mergedMap[emotionState] = {\n                            emotion_state: emotionState,\n                            countofemotion: 0,\n                        };\n                    }\n\n                    mergedMap[emotionState].countofemotion += countOfEmotion;\n                });\n            });\n\n            // Convert the mergedMap object back to an array\n            const newData = Object.values(mergedMap);\n\n            return newData;\n        }\n        /**\n         *Function To mergeEmotions\n         * @param {array} videoEmotionData\n         */\n        function mergeEmotions(videoEmotionData) {\n            const mergedData = {};\n\n            videoEmotionData.forEach((videoEmotion) => {\n                const resourceid = videoEmotion.resourceid;\n                const resourceTitle = videoEmotion.resourceTitle;\n                const emotions = videoEmotion.emotions;\n\n                if (!mergedData[resourceid]) {\n                    mergedData[resourceid] = {\n                        resourceid: resourceid,\n                        resourceTitle: resourceTitle,\n                        emotions: {\n                            positive: 0,\n                            neutral: 0,\n                            negative: 0,\n                        },\n                    };\n                }\n\n                const mergedEmotions = mergedData[resourceid].emotions;\n\n                emotions.forEach((emotion) => {\n                    const emotionState = emotion.emotion_state;\n                    const count = emotion.count;\n\n                    // Categorize the emotion\n                    const category = categorizeEmotion(emotionState);\n                    if (category === \"positive\") {\n                        mergedEmotions.positive += count;\n                    } else if (category === \"neutral\") {\n                        mergedEmotions.neutral += count;\n                    } else if (category === \"negative\") {\n                        mergedEmotions.negative += count;\n                    }\n                });\n            });\n\n            return Object.values(mergedData);\n        }\n\n        /**\n         * @param {string} emotionState\n         *function to categotize Emotion State\n         */\n        function categorizeEmotion(emotionState) {\n            if ([\"happy\", \"surprised\"].includes(emotionState)) {\n                return \"positive\";\n            } else if (emotionState === \"neutral\") {\n                return \"neutral\";\n            } else {\n                return \"negative\";\n            }\n        }\n        // Function to create an emotion bar\n        /**\n         *@param {string} container\n         * @param {string} type\n         * @param {int} count\n         */\n        // eslint-disable-next-line no-unused-vars\n        function createEmotionSegment(container, type, count) {\n            const segment = document.createElement('div');\n            segment.className = `emotion-segment ${type}`;\n            segment.style.width = `${count}%`;\n            container.appendChild(segment);\n        }\n    });\n\n/**\n * @param {int} unixTimeStamp input unix timestamp\n * @returns {string} readable timestamp\n */\nfunction timeStampConvertor(unixTimeStamp) {\n    const date = new Date(unixTimeStamp * 1000);\n\n    // Extract the different components of the date and time\n    const year = date.getFullYear();\n    const month = String(date.getMonth() + 1).padStart(2, '0'); // Zero-padding for single-digit months\n    const day = String(date.getDate()).padStart(2, '0'); // Zero-padding for single-digit days\n    const hours = String(date.getHours()).padStart(2, '0'); // Zero-padding for single-digit hours\n    const minutes = String(date.getMinutes()).padStart(2, '0'); // Zero-padding for single-digit minutes\n    const seconds = String(date.getSeconds()).padStart(2, '0'); // Zero-padding for single-digit seconds\n    // Construct the readable timestamp\n    const readableTimestamp = `${day}-${month}-${year} ${hours}:${minutes}:${seconds}`;\n    return readableTimestamp;\n}"],"names":["timeStampConvertor","unixTimeStamp","date","Date","year","getFullYear","month","String","getMonth","padStart","day","getDate","hours","getHours","minutes","getMinutes","seconds","getSeconds","define","$","Ajax","Chart","ModalFactory","ModalEvents","response","fetchRequest","semotionChart","sctx","document","getElementById","courseSelect","userSelect","videoSelect","chartType","dataTable","emotionContainer","courseSelectedValue","removeexistingvalues","id","selectedElement","options","length","remove","updateEmotionCounts","countsArray","emotion","angry","disgusted","fearful","happy","neutral","sad","surprised","totalDetectedEmotions","i","count","state","hasOwnProperty","generategraph","input","ctx","destroy","newChart","type","data","labels","map","charAt","toUpperCase","slice","datasets","label","borderWidth","backgroundColor","getEmoji","ready","request","methodname","args","val","call","done","fetchData","item","courseId","courseid","courseName","coursename","reduce","unique","course","find","c","push","forEach","option","createElement","value","textContent","appendChild","addEventListener","event","prop","selectedCourseId","target","filteredVideos","filter","Set","instanceid","videoId","video","lectureTitle","handleCourseSelection","selectedVideoId","filteredUsers","userid","userId","user","userFullName","handleVideoSelection","fail","console","log","resultFetcher","click","firstChild","removeChild","innerHTML","create","types","SAVE_CANCEL","title","get_string","body","then","modal","setSaveButtonText","getRoot","on","save","footer","Y","one","setContent","M","util","add_spinner","show","deleteRequest","values","instanceId","resourceId","resourceid","window","location","reload","deleteRecords","studentSelectedValue","videoSelectedValue","chartSelectedType","selectedText","selectedIndex","text","emotionCountsArray","existingData","mergedMap","emotions","emotionState","emotion_state","countOfEmotion","countofemotion","Object","chartArray","videoEmotion","countOfSecond","entries","barData","videoEmotionData","mergedData","resourceTitle","positive","negative","mergedEmotions","category","includes","categorizeEmotion","mergeEmotions","rows","deleteRow","headerCell","insertRow","insertCell","classList","add","colSpan","courseRow","flag","studentRow","enrolledStudentsCount","activeStudentRow","totalStudents","finishedActivityRow","finishActivity","userName","colors","emotionSegment","emotionTextSegment","maxCount","titleSegment","style","marginBottom","_ref","segment","height","width","labelSegment","percentage","toFixed","obj","emotioncounts","totalduration","formattedData","dataContainer","infoDisplay","index","toLowerCase","rectangle","emoji","className","createDataRectangles","startTimeRow","activityStartTime","activity_start_time","finishTimeRow","activity_finish_time","resetActivityRow","reset_activity","progressStatusRow","progressValue","maxTimeStamp","timeFormatted","Math","floor","toString","activityTotalDuration","totalMinutes","totalNumberOfEmotions","sessionInformation","sessionRow","sessionData","sessionCell","sessionTable","sheaderRow","session","session_start_time","session_finish_time","start_watch_time","finish_watch_time","parentNode"],"mappings":"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"}