/**
 * Javascript to initialise the recognition of a student facial expression.
 *
 * @module     block_emotionanalysis/recognition
 * @copyright  2023 Rohit <rx18008@edu.rta.lv>
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("block_emotionanalysis/sessionTracker",["jquery","./recognition","core/ajax","./youTubeManager"],(function($,recognition,Ajax,youTubeManager){let moduleType=recognition.value,videoElement=recognition.videoElement;recognition.courseId,recognition.instanceId,recognition.resourceId;function sessionTracker(lastActiveTime){let request={methodname:"blocks_emotionanalysis_session_tracker",args:{values:{courseId:recognition.courseId,lastActiveTime:Math.floor(lastActiveTime),instanceId:recognition.instanceId,resourceId:recognition.resourceId}}};Ajax.call([request])[0].done((function(data){console.log(data)})).fail((function(data){console.log(data.errorcode)}))}17===moduleType?youTubeManager.readyPromise.then((()=>{youTubeManager.player.addEventListener("onStateChange",(function(event){if(2===event.data){sessionTracker(youTubeManager.currentTime)}}))})):19===moduleType&&videoElement.addEventListener("pause",(()=>{sessionTracker(videoElement.currentTime)}))}));

//# sourceMappingURL=sessionTracker.min.js.map