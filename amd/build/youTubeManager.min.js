define("block_emotionanalysis/youTubeManager",["exports"],(function(_exports){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.default=void 0;var _default=new class{constructor(){this.player=null,this.playerState=null,this.currentTime=null,this.readyPromise=this.initYouTubeAPI(),this.totalDuration=null}initYouTubeAPI(){return new Promise(((resolve,reject)=>{window.onYouTubeIframeAPIReady=()=>{this.modifyIframeIfPresent().then((()=>{this.createPlayer(),resolve()}))};const tag=document.createElement("script");tag.src="https://www.youtube.com/iframe_api",tag.onerror=()=>reject(Error("Error loading YouTube API")),document.getElementsByTagName("head")[0].appendChild(tag)}))}createPlayer(){this.player=new YT.Player("another-love",{events:{onReady:this.onPlayerReady.bind(this),onStateChange:this.onPlayerStateChange.bind(this)}})}modifyIframeIfPresent(){return new Promise((resolve=>{const iframe=document.getElementsByTagName("iframe")[0];if(iframe){iframe.setAttribute("id","another-love");let newSrc=iframe.getAttribute("src").split("?")[0]+"?enablejsapi=1";iframe.setAttribute("src",newSrc)}resolve()}))}onPlayerReady(event){this.totalDuration=this.player.getDuration()}onPlayerStateChange(event){return event.data===YT.PlayerState.PLAYING?"playing"!==this.playerState&&(this.playerState="playing",this.currentTime=this.player.getCurrentTime()):2===event.data&&"paused"!==this.playerState&&(this.playerState="paused",this.currentTime=this.player.getCurrentTime()),event.data}};return _exports.default=_default,_exports.default}));

//# sourceMappingURL=youTubeManager.min.js.map