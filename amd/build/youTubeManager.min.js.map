{"version":3,"file":"youTubeManager.min.js","sources":["../src/youTubeManager.js"],"sourcesContent":["class YouTubeManager {\n    constructor() {\n        this.player = null;\n        this.playerState = null;\n        this.currentTime = null;\n        this.readyPromise = this.initYouTubeAPI();\n        this.totalDuration = null;\n    }\n\n    initYouTubeAPI() {\n        return new Promise((resolve, reject) => {\n            // Initialize YouTube API\n            window.onYouTubeIframeAPIReady = () => {\n                // eslint-disable-next-line promise/catch-or-return\n                this.modifyIframeIfPresent().then(() => {\n                    this.createPlayer();\n                    resolve();\n                });\n            };\n\n            const tag = document.createElement('script');\n            tag.src = 'https://www.youtube.com/iframe_api';\n            tag.onerror = () => reject(Error('Error loading YouTube API'));\n            document.getElementsByTagName('head')[0].appendChild(tag);\n        });\n    }\n\n    createPlayer() {\n        // eslint-disable-next-line no-undef\n        this.player = new YT.Player('another-love', {\n            events: {\n                'onReady': this.onPlayerReady.bind(this),\n                'onStateChange': this.onPlayerStateChange.bind(this)\n            }\n        });\n    }\n    modifyIframeIfPresent() {\n        return new Promise((resolve) => {\n            const iframe = document.getElementsByTagName('iframe')[0];\n            if (iframe) {\n                // Modify the iframe code here\n                // Set the id attribute for the iframe\n                iframe.setAttribute('id', 'another-love');\n                // Get the current src attribute\n                let currentSrc = iframe.getAttribute('src');\n                // Split the current src at the \"?\" character\n                let srcParts = currentSrc.split('?');\n                // Create the new src with \"?enablejsapi=1\" and the original video ID\n                let newSrc = srcParts[0] + '?enablejsapi=1';\n                // Update the src attribute with the modified URL\n                iframe.setAttribute('src', newSrc);\n            }\n            resolve();\n        });\n    }\n    // eslint-disable-next-line no-unused-vars\n    onPlayerReady(event)\n    {\n        this.totalDuration = this.player.getDuration();\n    }\n    // eslint-disable-next-line no-unused-vars\n    onPlayerStateChange(event) {\n            // eslint-disable-next-line no-undef\n        if (event.data === YT.PlayerState.PLAYING) {\n            if (this.playerState !== 'playing') {\n                this.playerState = 'playing';\n                this.currentTime = this.player.getCurrentTime();\n            }\n        } else if (event.data === 2) {\n            if (this.playerState !== 'paused') {\n                this.playerState = 'paused';\n                this.currentTime = this.player.getCurrentTime();\n            }\n        }\n        return event.data;\n    }\n}\nconst youtubeManager = new YouTubeManager();\nexport default youtubeManager;\n"],"names":["constructor","player","playerState","currentTime","readyPromise","this","initYouTubeAPI","totalDuration","Promise","resolve","reject","window","onYouTubeIframeAPIReady","modifyIframeIfPresent","then","createPlayer","tag","document","createElement","src","onerror","Error","getElementsByTagName","appendChild","YT","Player","events","onPlayerReady","bind","onPlayerStateChange","iframe","setAttribute","newSrc","getAttribute","split","event","getDuration","data","PlayerState","PLAYING","getCurrentTime"],"mappings":"2KA6EuB,UA5EnBA,mBACSC,OAAS,UACTC,YAAc,UACdC,YAAc,UACdC,aAAeC,KAAKC,sBACpBC,cAAgB,KAGzBD,wBACW,IAAIE,SAAQ,CAACC,QAASC,UAEzBC,OAAOC,wBAA0B,UAExBC,wBAAwBC,MAAK,UACzBC,eACLN,oBAIFO,IAAMC,SAASC,cAAc,UACnCF,IAAIG,IAAM,qCACVH,IAAII,QAAU,IAAMV,OAAOW,MAAM,8BACjCJ,SAASK,qBAAqB,QAAQ,GAAGC,YAAYP,QAI7DD,oBAESd,OAAS,IAAIuB,GAAGC,OAAO,eAAgB,CACxCC,OAAQ,SACOrB,KAAKsB,cAAcC,KAAKvB,oBAClBA,KAAKwB,oBAAoBD,KAAKvB,SAI3DQ,+BACW,IAAIL,SAASC,gBACVqB,OAASb,SAASK,qBAAqB,UAAU,MACnDQ,OAAQ,CAGRA,OAAOC,aAAa,KAAM,oBAMtBC,OAJaF,OAAOG,aAAa,OAEXC,MAAM,KAEV,GAAK,iBAE3BJ,OAAOC,aAAa,MAAOC,QAE/BvB,aAIRkB,cAAcQ,YAEL5B,cAAgBF,KAAKJ,OAAOmC,cAGrCP,oBAAoBM,cAEZA,MAAME,OAASb,GAAGc,YAAYC,QACL,YAArBlC,KAAKH,mBACAA,YAAc,eACdC,YAAcE,KAAKJ,OAAOuC,kBAEb,IAAfL,MAAME,MACY,WAArBhC,KAAKH,mBACAA,YAAc,cACdC,YAAcE,KAAKJ,OAAOuC,kBAGhCL,MAAME"}